"use strict";(()=>{var e={};e.id=161,e.ids=[161,888],e.modules={1864:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>u,getServerSideProps:()=>g,getStaticPaths:()=>p,getStaticProps:()=>m,reportWebVitals:()=>h,routeModule:()=>w,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>y});var s=r(7093),o=r(5244),l=r(1323),n=r(1106),i=r(2166),c=r(6408),d=e([i,c]);[i,c]=d.then?(await d)():d;let u=(0,l.l)(c,"default"),m=(0,l.l)(c,"getStaticProps"),p=(0,l.l)(c,"getStaticPaths"),g=(0,l.l)(c,"getServerSideProps"),x=(0,l.l)(c,"config"),h=(0,l.l)(c,"reportWebVitals"),y=(0,l.l)(c,"unstable_getStaticProps"),b=(0,l.l)(c,"unstable_getStaticPaths"),v=(0,l.l)(c,"unstable_getStaticParams"),j=(0,l.l)(c,"unstable_getServerProps"),f=(0,l.l)(c,"unstable_getServerSideProps"),w=new s.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/categories",pathname:"/categories",bundlePath:"",filename:""},components:{App:i.default,Document:n.default},userland:c});a()}catch(e){a(e)}})},8965:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>x});var s=r(997),o=r(2296),l=r(3673),n=r.n(l),i=r(7270),c=r(5623),d=r(618),u=r(1574),m=r(1238),p=r(8851),g=e([i,c,d,u,m,p]);[i,c,d,u,m,p]=g.then?(await g)():g;let x=function(){let{mutate:e,isPending:t}=(0,m.Z)({path:"/category",revalidate:"/category"});return s.jsx("div",{className:"mt-8",children:s.jsx(o.Formik,{initialValues:{name:"",slug:"",description:""},onSubmit:(t,r)=>{e(t,{onSuccess:()=>{console.log("onsuccess"),i.toast.success(`Category ${t.name} added`),r.resetForm()}})},children:({isSubmitting:e,setFieldValue:r})=>(0,s.jsxs)(o.Form,{children:[(0,s.jsxs)("div",{className:"space-y-9 w-full",children:[(0,s.jsxs)("div",{className:"flex items-center w-full gap-14",children:[s.jsx(c.U,{label:"Category Name:",placeholder:"Enter category name",name:"name",type:"text",required:!0,onChange:e=>{r("name",e.target.value);let t=n()(e.target.value,{lower:!0});r("slug",t)}}),s.jsx(c.U,{label:"Slug:",placeholder:"Enter the name to get slug",name:"slug",type:"text",required:!0})]}),s.jsx(u.X,{label:"Category Description:",placeholder:"Enter category description",name:"description",type:"text",required:!0})]}),(0,s.jsxs)("div",{className:"mt-6 flex items-center gap-3",children:[s.jsx(d.Z,{type:"submit",className:"px-6",disabled:t,children:"Create New Category"}),t&&s.jsx(p.$,{className:"border-gray-400 border-r-gray-400/30 border-b-gray-400/30"})]})]})})})};a()}catch(e){a(e)}})},5623:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{U:()=>c,b:()=>d});var s=r(997),o=r(2296),l=r(2258),n=r(585),i=e([l,n]);[l,n]=i.then?(await i)():i;let c=({label:e,className:t,...r})=>{let a=(0,l.Z)();return(0,s.jsxs)("div",{className:"w-full",children:[e&&s.jsx("label",{htmlFor:r.name,className:"font-medium",children:e}),s.jsx("div",{className:"relative mt-1",children:s.jsx(o.Field,{id:r.name,className:(0,n.cn)("p-3 w-full outline-none bg-white rounded-md border border-custom-gray2",t),...r,onFocus:e=>{e.target.style.border=`1px solid ${a}`},onBlur:e=>{e.target.style="border-custom-gray2"}})})]})},d=({className:e,...t})=>s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"relative mt-1",children:s.jsx(o.Field,{id:t.name,className:(0,n.cn)("pl-0.5 py-0 w-full outline-none text-2xl font-bold bg-transparent text-gray-600",e),...t})})});a()}catch(e){a(e)}})},1574:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{X:()=>c});var s=r(997),o=r(2296),l=r(2258),n=r(585),i=e([l,n]);[l,n]=i.then?(await i)():i;let c=({label:e,rows:t=4,className:r,...a})=>{let i=(0,l.Z)();return(0,s.jsxs)("div",{className:"w-full",children:[e&&s.jsx("label",{htmlFor:a.name,className:"font-medium",children:e}),s.jsx("div",{className:"relative mt-1",children:s.jsx(o.Field,{as:"textarea",rows:t,id:a.name,className:(0,n.cn)("p-3 w-full outline-none bg-white rounded-md border border-custom-gray2",r),...a,onFocus:e=>{e.target.style.border=`1px solid ${i}`},onBlur:e=>{e.target.style="border-custom-gray2"}})})]})};a()}catch(e){a(e)}})},4433:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>u});var s=r(997),o=r(6689),l=r(7270),n=r(9636),i=r(9993),c=r(3313),d=e([l,n,c]);[l,n,c]=d.then?(await d)():d;let u=function({categoryInfo:e}){let[t,r]=(0,o.useState)(!1),{mutate:a,isPending:d}=(0,n.Z)({path:`/category/delete/${e._id}`,revalidate:"/category"});return s.jsx(c.Z,{showDeleteModal:t,setShowDeleteModal:r,title:`Do you want to delete category ${e.name}?`,handleDelete:()=>{a({},{onSuccess:()=>{l.toast.success(`Category ${e.name} deleted`),r(!1)},onError:()=>{console.log("onerror"),r(!1)}})},isPending:d,children:s.jsx("button",{type:"button",className:"text-custom-red2",children:s.jsx(i.Fz,{})})},e.id)};a()}catch(e){a(e)}})},71:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{p:()=>n});var s=r(997),o=r(4433),l=e([o]);o=(l.then?(await l)():l)[0];let n=[{header:"#",accessorKey:"_id",size:70,cell:({row:e})=>e.index+1},{header:"Name",accessorKey:"name"},{header:"Action",accessorKey:"_id",enableSorting:!1,size:100,cell:({row:e})=>s.jsx("div",{children:s.jsx(o.Z,{categoryInfo:e.original})})}];a()}catch(e){a(e)}})},1238:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>d});var s=r(9648),o=r(7270),l=r(1649),n=r(9752),i=r(5453),c=e([s,o,n]);[s,o,n]=c.then?(await c)():c;let d=function({path:e,revalidate:t}){let{data:r}=(0,l.useSession)(),a=r?.user?.token,c=`${i.T5}${e}`,d=(0,n.useQueryClient)(),u=async e=>{let t={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}};return s.default.post(c,e,t).then(({data:e})=>e)};return(0,n.useMutation)({mutationFn:u,onSuccess:e=>{d.invalidateQueries([t])},onError:e=>{console.log("error is",e.response.data),o.toast.error(e.response?.data?.error||"Something went wrong")}})};a()}catch(e){a(e)}})},6408:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>u});var s=r(997),o=r(6256),l=r(8965),n=r(1601),i=r(1177),c=r(71),d=e([o,l,n,i,c]);[o,l,n,i,c]=d.then?(await d)():d;let u=function(){let{data:e,isPending:t}=(0,o.Z)({path:"/category"});return console.log("categoriesData",e),(0,s.jsxs)(n.Z,{title:"Categories",description:"categories",heading:"Add New Category",isLoading:t,children:[s.jsx(l.Z,{}),e?.data?.length?s.jsx(i.Z,{columns:c.p,data:e.data}):s.jsx("p",{className:"mt-10 text-center font-bold text-lg",children:"No results"})]})};a()}catch(e){a(e)}})},2296:e=>{e.exports=require("formik")},6164:e=>{e.exports=require("lottie-react")},1649:e=>{e.exports=require("next-auth/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},3673:e=>{e.exports=require("slugify")},2131:e=>{e.exports=import("@radix-ui/react-alert-dialog")},9752:e=>{e.exports=import("@tanstack/react-query")},6869:e=>{e.exports=import("@tanstack/react-table")},9648:e=>{e.exports=import("axios")},6593:e=>{e.exports=import("clsx")},7270:e=>{e.exports=import("sonner")},8097:e=>{e.exports=import("tailwind-merge")},6912:e=>{e.exports=import("zustand")},3602:e=>{e.exports=import("zustand/middleware")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[491,262,859,166,753,443],()=>r(1864));module.exports=a})();