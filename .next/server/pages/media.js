"use strict";(()=>{var e={};e.id=361,e.ids=[361,888],e.modules={1523:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>x,getServerSideProps:()=>u,getStaticPaths:()=>p,getStaticProps:()=>m,reportWebVitals:()=>h,routeModule:()=>y,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>b});var s=a(7093),i=a(5244),l=a(1323),d=a(1106),n=a(2166),o=a(8977),c=e([n,o]);[n,o]=c.then?(await c)():c;let x=(0,l.l)(o,"default"),m=(0,l.l)(o,"getStaticProps"),p=(0,l.l)(o,"getStaticPaths"),u=(0,l.l)(o,"getServerSideProps"),g=(0,l.l)(o,"config"),h=(0,l.l)(o,"reportWebVitals"),b=(0,l.l)(o,"unstable_getStaticProps"),j=(0,l.l)(o,"unstable_getStaticPaths"),v=(0,l.l)(o,"unstable_getStaticParams"),S=(0,l.l)(o,"unstable_getServerProps"),f=(0,l.l)(o,"unstable_getServerSideProps"),y=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/media",pathname:"/media",bundlePath:"",filename:""},components:{App:n.default,Document:d.default},userland:o});r()}catch(e){r(e)}})},2260:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{Z:()=>c});var s=a(997),i=a(6689),l=a(9895),d=a(5633),n=a(6159),o=e([l,n]);[l,n]=o.then?(await o)():o;let c=function({selectedImage:e}){let t=(0,i.useRef)(),[a,r]=(0,i.useState)(null),[o,c]=(0,i.useState)(e.imageTitle);return(0,s.jsxs)(n.x,{className:"h-screen w-[400px] 2xl:w-[625px]",children:[(0,s.jsxs)("div",{className:"pt-4 p-5 2xl:p-7 border-b border-gray-300",children:[s.jsx("p",{className:"text-[20px] font-medium text-gray-600",children:"Image Details"}),(0,s.jsxs)("div",{className:"mt-3 flex items-center gap-5",children:[s.jsx("div",{className:"max-w-[200px] 2xl:max-w-[320px] max-h-[380px] overflow-hidden",children:s.jsx("img",{ref:t,src:e.image.url,alt:e.altText,onLoad:()=>{let{naturalWidth:e,naturalHeight:a}=t.current;r({width:e,height:a})}},e._id)}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 leading-6",children:[s.jsx("p",{className:"font-semibold",children:o}),s.jsx("p",{children:(0,d.L)(e.createdAt)}),(0,s.jsxs)("p",{children:[a?.width," x ",a?.height]})]})]})]}),s.jsx("div",{className:"p-5 2xl:p-7 pb-[140px] w-[80%]",children:s.jsx(l.Z,{id:e._id,imageTitle:e.imageTitle,altText:e.altText,setImageTitleState:c},e._id)})]})};r()}catch(e){r(e)}})},7800:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(997),s=a(5675),i=a.n(s),l=a(9993);let d=function({media:e,selectedId:t,handleImageClick:a}){return(0,r.jsxs)("div",{className:"relative size-[180px] 2xl:size-[282px] rounded-md overflow-hidden cursor-pointer",onClick:()=>a(e),children:[r.jsx(i(),{src:e.image.url,alt:e.altText,sizes:"282px",fill:!0,className:"object-cover  border border-gray-200 rounded-md"}),t===e._id&&r.jsx("div",{className:"absolute inset-0 border-[6px] border-cyan-400 rounded-md",children:r.jsx("div",{className:"absolute top-0 right-0 size-6 flex justify-center items-center bg-cyan-400 border border-white text-white",children:r.jsx(l.CD,{})})})]})}},9895:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{Z:()=>p});var s=a(997),i=a(2296),l=a(7270),d=a(1238),n=a(618),o=a(5623),c=a(1574),x=a(8851),m=e([l,d,n,o,c,x]);[l,d,n,o,c,x]=m.then?(await m)():m;let p=function({id:e,imageTitle:t,altText:a,setImageTitleState:r}){let{mutate:m,isPending:p}=(0,d.Z)({path:`/media/edit/${e}`,revalidate:"/media"});return s.jsx("div",{children:s.jsx(i.Formik,{initialValues:{imageTitle:t||"",altText:a||""},onSubmit:e=>{m(e,{onSuccess:()=>{l.toast.success("Image details changed"),r(e.imageTitle)}})},enableReinitialize:!0,children:({isSubmitting:e})=>(0,s.jsxs)(i.Form,{className:"space-y-5",children:[s.jsx(o.U,{label:"Image Title:",placeholder:"Your text here",name:"imageTitle",type:"text",required:!0}),s.jsx(c.X,{label:"Alt Text",placeholder:"Your text here",name:"altText",required:!0}),(0,s.jsxs)("div",{className:"mt-5 flex items-center gap-3",children:[s.jsx(n.Z,{type:"submit",className:"px-8",disabled:p,children:"Save"}),p&&s.jsx(x.$,{className:"border-gray-400 border-r-gray-400/30 border-b-gray-400/30"})]})]})})})};r()}catch(e){r(e)}})},8977:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>g});var s=a(997),i=a(6689),l=a(1601),d=a(2260),n=a(7800),o=a(9993),c=a(4959),x=a(6256),m=a(7270),p=a(1238),u=e([l,d,c,x,m,p]);[l,d,c,x,m,p]=u.then?(await u)():u;let g=function(){let[e,t]=(0,i.useState)(null),{data:a,isPending:r}=(0,x.Z)({path:"/media"}),u=a=>{e?._id===a._id?t(null):t(a)},[g,h]=(0,i.useState)(!1),{mutate:b,isPending:j}=(0,p.Z)({path:"/media",revalidate:"/media"});return s.jsx(l.Z,{title:"Media",description:"media",heading:"All Media",isLoading:r,children:(0,s.jsxs)("div",{className:"mt-5 border border-gray-300 rounded-xl flex min-h-[420px] 2xl:min-h-[700px]",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-5 2xl:gap-7 p-5 2xl:p-7",children:[s.jsx(c.Z,{handleImageSubmit:(e,t)=>{b(e,{onSuccess:()=>{m.toast.success("Media added"),t.resetForm()},onSettled:()=>{h(!1)}})},showImageModal:g,setShowImageModal:h,imageSubmitting:j,children:s.jsx("button",{type:"button",className:"size-[180px] 2xl:size-[280px] rounded-md border-gray-400 bg-gray-100 flex justify-center items-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[s.jsx("span",{children:s.jsx(o._t,{})}),s.jsx("p",{children:"Upload Image"})]})})}),a?.media.map(t=>s.jsx(n.Z,{media:t,selectedId:e?._id,handleImageClick:u},t._id))]}),e&&s.jsx("div",{className:"sticky top-0 border-l border-gray-300",children:s.jsx(d.Z,{selectedImage:e},e._id)})]})})};r()}catch(e){r(e)}})},5633:(e,t,a)=>{a.d(t,{L:()=>r});let r=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},2296:e=>{e.exports=require("formik")},1649:e=>{e.exports=require("next-auth/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2131:e=>{e.exports=import("@radix-ui/react-alert-dialog")},307:e=>{e.exports=import("@radix-ui/react-scroll-area")},9752:e=>{e.exports=import("@tanstack/react-query")},9648:e=>{e.exports=import("axios")},6593:e=>{e.exports=import("clsx")},7270:e=>{e.exports=import("sonner")},8097:e=>{e.exports=import("tailwind-merge")},6912:e=>{e.exports=import("zustand")},3602:e=>{e.exports=import("zustand/middleware")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[491,262,859,166,446],()=>a(1523));module.exports=r})();