(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{5461:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories",function(){return r(1016)}])},5623:function(e,t,r){"use strict";r.d(t,{U:function(){return o},b:function(){return c}});var n=r(5893),a=r(2175),s=r(2258),l=r(585);let o=e=>{let{label:t,className:r,...o}=e,c=(0,s.Z)();return(0,n.jsxs)("div",{className:"w-full",children:[t&&(0,n.jsx)("label",{htmlFor:o.name,className:"font-medium",children:t}),(0,n.jsx)("div",{className:"relative mt-1",children:(0,n.jsx)(a.gN,{id:o.name,className:(0,l.cn)("p-3 w-full outline-none bg-white rounded-md border border-custom-gray2",r),...o,onFocus:e=>{e.target.style.border="1px solid ".concat(c)},onBlur:e=>{e.target.style="border-custom-gray2"}})})]})},c=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)("div",{className:"relative mt-1",children:(0,n.jsx)(a.gN,{id:r.name,className:(0,l.cn)("pl-0.5 py-0 w-full outline-none text-2xl font-bold bg-transparent text-gray-600",t),...r})})})}},1574:function(e,t,r){"use strict";r.d(t,{X:function(){return o}});var n=r(5893),a=r(2175),s=r(2258),l=r(585);let o=e=>{let{label:t,rows:r=4,className:o,...c}=e,i=(0,s.Z)();return(0,n.jsxs)("div",{className:"w-full",children:[t&&(0,n.jsx)("label",{htmlFor:c.name,className:"font-medium",children:t}),(0,n.jsx)("div",{className:"relative mt-1",children:(0,n.jsx)(a.gN,{as:"textarea",rows:r,id:c.name,className:(0,l.cn)("p-3 w-full outline-none bg-white rounded-md border border-custom-gray2",o),...c,onFocus:e=>{e.target.style.border="1px solid ".concat(i)},onBlur:e=>{e.target.style="border-custom-gray2"}})})]})}},1238:function(e,t,r){"use strict";var n=r(5121),a=r(4712),s=r(3299),l=r(202),o=r(8029),c=r(5453);t.Z=function(e){var t;let{path:r,revalidate:i}=e,{data:d}=(0,s.useSession)(),u=null==d?void 0:null===(t=d.user)||void 0===t?void 0:t.token,m="".concat(c.T5).concat(r),g=(0,l.NL)(),h=async e=>n.Z.post(m,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)}}).then(e=>{let{data:t}=e;return t});return(0,o.D)({mutationFn:h,onSuccess:e=>{g.invalidateQueries([i])},onError:e=>{var t,r;console.log("error is",e.response.data),a.A.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||"Something went wrong")}})}},1016:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(5893),a=r(6256),s=r(2175),l=r(1304),o=r.n(l),c=r(4712),i=r(5623),d=r(9463),u=r(1574),m=r(1238),g=r(8851),h=function(){let{mutate:e,isPending:t}=(0,m.Z)({path:"/category",revalidate:"/category"});return(0,n.jsx)("div",{className:"mt-8",children:(0,n.jsx)(s.J9,{initialValues:{name:"",slug:"",description:""},onSubmit:(t,r)=>{e(t,{onSuccess:()=>{console.log("onsuccess"),c.A.success("Category ".concat(t.name," added")),r.resetForm()}})},children:e=>{let{isSubmitting:r,setFieldValue:a}=e;return(0,n.jsxs)(s.l0,{children:[(0,n.jsxs)("div",{className:"space-y-9 w-full",children:[(0,n.jsxs)("div",{className:"flex items-center w-full gap-14",children:[(0,n.jsx)(i.U,{label:"Category Name:",placeholder:"Enter category name",name:"name",type:"text",required:!0,onChange:e=>{a("name",e.target.value),a("slug",o()(e.target.value,{lower:!0}))}}),(0,n.jsx)(i.U,{label:"Slug:",placeholder:"Enter the name to get slug",name:"slug",type:"text",required:!0})]}),(0,n.jsx)(u.X,{label:"Category Description:",placeholder:"Enter category description",name:"description",type:"text",required:!0})]}),(0,n.jsxs)("div",{className:"mt-6 flex items-center gap-3",children:[(0,n.jsx)(d.Z,{type:"submit",className:"px-6",disabled:t,children:"Create New Category"}),t&&(0,n.jsx)(g.$,{className:"border-gray-400 border-r-gray-400/30 border-b-gray-400/30"})]})]})}})})},x=r(5667),y=r(1177),p=r(7294),v=r(9636),f=r(9993),N=r(8143),j=function(e){let{categoryInfo:t}=e,[r,a]=(0,p.useState)(!1),{mutate:s,isPending:l}=(0,v.Z)({path:"/category/delete/".concat(t._id),revalidate:"/category"});return(0,n.jsx)(N.Z,{showDeleteModal:r,setShowDeleteModal:a,title:"Do you want to delete category ".concat(t.name,"?"),handleDelete:()=>{s({},{onSuccess:()=>{c.A.success("Category ".concat(t.name," deleted")),a(!1)},onError:()=>{console.log("onerror"),a(!1)}})},isPending:l,children:(0,n.jsx)("button",{type:"button",className:"text-custom-red2",children:(0,n.jsx)(f.Fz,{})})},t.id)};let b=[{header:"#",accessorKey:"_id",size:70,cell:e=>{let{row:t}=e;return t.index+1}},{header:"Name",accessorKey:"name"},{header:"Action",accessorKey:"_id",enableSorting:!1,size:100,cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{children:(0,n.jsx)(j,{categoryInfo:t.original})})}}];var w=function(){var e;let{data:t,isPending:r}=(0,a.Z)({path:"/category"});return console.log("categoriesData",t),(0,n.jsxs)(x.Z,{title:"Categories",description:"categories",heading:"Add New Category",isLoading:r,children:[(0,n.jsx)(h,{}),(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.length)?(0,n.jsx)(y.Z,{columns:b,data:t.data}):(0,n.jsx)("p",{className:"mt-10 text-center font-bold text-lg",children:"No results"})]})}}},function(e){e.O(0,[914,175,194,94,772,597,774,888,179],function(){return e(e.s=5461)}),_N_E=e.O()}]);